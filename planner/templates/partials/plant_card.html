<!-- Plant Card using daisyUI -->
<div class="card bg-base-200 shadow-xl border-2 border-base-300"
     data-plant-id="{{ plant.id }}">
    <!-- Card Header -->
    <div class="card-body p-6">
        <div class="flex justify-between items-start gap-4 mb-4">
            <div class="flex-1">
                <h2 class="card-title font-heading text-2xl mb-1">
                    <a href="{{ plant.link }}"
                       target="_blank"
                       rel="noopener noreferrer"
                       class="link link-hover link-hover-dots">{{ plant.common_name }}</a>
                </h2>
                <p class="text-sm italic text-base-content/70">{{ plant.scientific_name }}</p>
            </div>
            <div class="flex flex-col items-end gap-2">
                {% if plant.native %}
                    <div class="badge badge-secondary badge-lg font-semibold">Native</div>
                {% else %}
                    <div class="badge badge-accent badge-lg font-semibold">Introduced</div>
                {% endif %}
                {% if plant.colors.all %}
                    <div class="flex gap-1">
                        {% for color in plant.colors.all %}
                            <div class="garden-color-swatch relative w-8 h-8 rounded-lg shadow-md border-2 border-transparent cursor-pointer hover:scale-110 transition-all"
                                 style="background-color: {{ color.hex_code }}"
                                 title="{{ color.name }}"
                                 data-color-id="{{ color.id }}"
                                 data-plant-niche="{% if plant.niche %}
                                                       {{ plant.niche.id }}
                                                   {% endif %}"></div>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </div>
        <!-- Plant Image -->
        {% if plant.image %}
            <figure class="mb-4">
                <img src="{{ plant.image.url }}"
                     alt="{{ plant.common_name }}"
                     class="rounded-lg w-full h-48 object-cover"
                     loading="lazy">
            </figure>
        {% endif %}
        <!-- Stats Grid -->
        <div class="grid grid-cols-2 bg-base-100 shadow rounded-lg mb-4 p-4">
            <div class="stat border-r border-b border-base-300">
                <div class="stat-title text-xs">HEIGHT</div>
                <div class="stat-value text-2xl">
                    {% if plant.height %}
                        {{ plant.height|floatformat:1 }}'
                    {% else %}
                        —
                    {% endif %}
                </div>
            </div>
            <div class="stat border-b border-base-300">
                <div class="stat-title text-xs">SPREAD</div>
                <div class="stat-value text-2xl">
                    {% if plant.spread %}
                        {{ plant.spread|floatformat:1 }}'
                    {% else %}
                        —
                    {% endif %}
                </div>
            </div>
            <div class="stat border-r border-base-300">
                <div class="stat-title text-xs">BLOOM TIME</div>
                <div class="stat-value text-sm">
                    {% if plant.bloom %}
                        {% for bloom in plant.bloom %}
                            {{ bloom|title }}
                            {% if not forloop.last %},{% endif %}
                        {% endfor %}
                    {% else %}
                        —
                    {% endif %}
                </div>
            </div>
            <div class="stat">
                <div class="stat-title text-xs">SUN</div>
                <div class="stat-value text-sm">
                    {% if plant.sun %}
                        {% for sun in plant.sun %}
                            {{ sun|title }}
                            {% if not forloop.last %},{% endif %}
                        {% endfor %}
                    {% else %}
                        —
                    {% endif %}
                </div>
            </div>
        </div>
        <!-- Features Grid -->
        <div class="grid grid-cols-2 gap-2 mb-4">
            {% for feature in plant.features.all %}
                <div class="flex items-center gap-2 text-sm">
                    {% if feature.icon %}
                        <img src="{{ feature.icon.url }}"
                             alt="{{ feature.name }} icon"
                             class="w-5 h-5" />
                    {% endif %}
                    <span>{{ feature.name }}</span>
                </div>
            {% endfor %}
        </div>
        <!-- Notes -->
        <div class="alert bg-base-300 border-0">
            <p class="text-sm">{{ plant.notes }}</p>
        </div>
    </div>
</div>
